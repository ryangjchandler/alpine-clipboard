{"version":3,"file":"alpine-clipboard.js","sources":["../src/index.js","../builds/cdn.js"],"sourcesContent":["let onCopy = () => {}\n\nconst copy = (target, mimeType = undefined) => {\n    if (typeof target === 'function') {\n        target = target()\n    }\n\n    if (typeof target === 'object') {\n        target = JSON.stringify(target)\n    }\n\n    if (mimeType !== undefined) {\n        return window.navigator.clipboard.write([\n            new ClipboardItem({\n                [mimeType]: new Blob([target], {\n                    type: mimeType,\n                })\n            })\n        ])\n            .then(onCopy)\n    }\n\n    return window.navigator.clipboard.writeText(target)\n        .then(onCopy)\n}\n\nfunction Clipboard(Alpine) {\n    Alpine.magic('clipboard', () => {\n        return copy\n    })\n\n    Alpine.directive('clipboard', (el, { modifiers, expression }, { evaluateLater, cleanup }) => {\n        const getCopyContent = modifiers.includes('raw') ? c => c(expression) : evaluateLater(expression)\n        const clickHandler = () => getCopyContent(copy)\n\n        el.addEventListener('click', clickHandler)\n\n        cleanup(() => {\n            el.removeEventListener('click', clickHandler)\n        })\n    })\n}\n\nClipboard.configure = (config) => {\n    if (config.hasOwnProperty('onCopy') && typeof config.onCopy === 'function') {\n        onCopy = config.onCopy\n    }\n\n    return Clipboard\n}\n\nexport default Clipboard;","import clipboard from '../src/index'\n\ndocument.addEventListener('alpine:initializing', () => {\n    clipboard(window.Alpine)\n})"],"names":["onCopy","copy","target","mimeType","undefined","JSON","stringify","window","navigator","clipboard","write","ClipboardItem","Blob","type","then","writeText","Clipboard","Alpine","magic","directive","el","modifiers","expression","evaluateLater","cleanup","getCopyContent","includes","c","clickHandler","addEventListener","removeEventListener","configure","config","hasOwnProperty","document"],"mappings":";;;;;IAAA,IAAIA,MAAM,GAAG,MAAM,EAAnB;;IAEA,MAAMC,IAAI,GAAG,CAACC,MAAD,EAASC,QAAQ,GAAGC,SAApB,KAAkC;IAC3C,MAAI,OAAOF,MAAP,KAAkB,UAAtB,EAAkC;IAC9BA,IAAAA,MAAM,GAAGA,MAAM,EAAf;IACH;;IAED,MAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;IAC5BA,IAAAA,MAAM,GAAGG,IAAI,CAACC,SAAL,CAAeJ,MAAf,CAAT;IACH;;IAED,MAAIC,QAAQ,KAAKC,SAAjB,EAA4B;IACxB,WAAOG,MAAM,CAACC,SAAP,CAAiBC,SAAjB,CAA2BC,KAA3B,CAAiC,CACpC,IAAIC,aAAJ,CAAkB;IACd,OAACR,QAAD,GAAY,IAAIS,IAAJ,CAAS,CAACV,MAAD,CAAT,EAAmB;IAC3BW,QAAAA,IAAI,EAAEV;IADqB,OAAnB;IADE,KAAlB,CADoC,CAAjC,EAOFW,IAPE,CAOGd,MAPH,CAAP;IAQH;;IAED,SAAOO,MAAM,CAACC,SAAP,CAAiBC,SAAjB,CAA2BM,SAA3B,CAAqCb,MAArC,EACFY,IADE,CACGd,MADH,CAAP;IAEH,CAtBD;;IAwBA,SAASgB,SAAT,CAAmBC,MAAnB,EAA2B;IACvBA,EAAAA,MAAM,CAACC,KAAP,CAAa,WAAb,EAA0B,MAAM;IAC5B,WAAOjB,IAAP;IACH,GAFD;IAIAgB,EAAAA,MAAM,CAACE,SAAP,CAAiB,WAAjB,EAA8B,CAACC,EAAD,EAAK;IAAEC,IAAAA,SAAF;IAAaC,IAAAA;IAAb,GAAL,EAAgC;IAAEC,IAAAA,aAAF;IAAiBC,IAAAA;IAAjB,GAAhC,KAA+D;IACzF,UAAMC,cAAc,GAAGJ,SAAS,CAACK,QAAV,CAAmB,KAAnB,IAA4BC,CAAC,IAAIA,CAAC,CAACL,UAAD,CAAlC,GAAiDC,aAAa,CAACD,UAAD,CAArF;;IACA,UAAMM,YAAY,GAAG,MAAMH,cAAc,CAACxB,IAAD,CAAzC;;IAEAmB,IAAAA,EAAE,CAACS,gBAAH,CAAoB,OAApB,EAA6BD,YAA7B;IAEAJ,IAAAA,OAAO,CAAC,MAAM;IACVJ,MAAAA,EAAE,CAACU,mBAAH,CAAuB,OAAvB,EAAgCF,YAAhC;IACH,KAFM,CAAP;IAGH,GATD;IAUH;;IAEDZ,SAAS,CAACe,SAAV,GAAuBC,MAAD,IAAY;IAC9B,MAAIA,MAAM,CAACC,cAAP,CAAsB,QAAtB,KAAmC,OAAOD,MAAM,CAAChC,MAAd,KAAyB,UAAhE,EAA4E;IACxEA,IAAAA,MAAM,GAAGgC,MAAM,CAAChC,MAAhB;IACH;;IAED,SAAOgB,SAAP;IACH,CAND;;ICzCAkB,QAAQ,CAACL,gBAAT,CAA0B,qBAA1B,EAAiD,MAAM;IACnDpB,EAAAA,SAAS,CAACF,MAAM,CAACU,MAAR,CAAT;IACH,CAFD;;;;;;"}